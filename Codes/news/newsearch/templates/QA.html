{% load static %}
<!doctype html>
<script type="text/javascript">
function isHidden(oDiv){
	      var vDiv = document.getElementById(oDiv);
	      vDiv.style.display = (vDiv.style.display == 'none')?'block':'none';
	    }
</script>

<html>
<form class="form-inline" action = "{% url 'newsearch:QA' %}" method = "GET">
	<div style="background: url({% static "img/background.jpg" %}); background-repeat: no-repeat; background-size: cover;">
		<div class="upsite" style=" height: 40px; width: 100%; left: 0px;background-color: rgba(193, 210, 240, 0.5);">
			<div>
				<a href="http://127.0.0.1:8000/index/" target="_blank" style="margin-left: 10px; font-size: 30px; font-weight: bold; color: white;font-family:STCaiyun">Home</a>
			<a href="http://127.0.0.1:8000/search/" target="_blank" style="margin-left: 10px; font-size: 30px; font-weight: bold; color: white;font-family:STCaiyun">News</a>
			<a href="http://127.0.0.1:8000/QA/" target="_blank" style="margin-left: 10px; font-size: 30px;font-weight: bold; color: white;font-family:STCaiyun">Questions</a>
				<div style="float:right; top:5px;  margin-right: 20px;font-size: 30px; font-weight: bold;cursor:hand; color: white;font-family:STCaiyun" onclick="isHidden('div1')">
					:More
				</div>
			</div>
		
			
			<div id="div1" style="display:none; margin-top: 10px; margin-right:10px; width: 160px; height: auto; border: 2px skyblue solid; text-align: center; float: right; background-color: white;">
				<div style="top:0px;  margin-right: 10px;font-size: 30px; font-weight: bold; color: white;">
					<a href="http://127.0.0.1:8000/backend/" target="_blank" style=" font-family:STCaiyun; font-size: 30px;font-weight: bold; color: skyblue;">Backend</a>
				</div>
				<div onclick="isHidden('div2')" style="font-family:STCaiyun; cursor:hand; margin-right: 10px;font-size: 30px; font-weight: bold; color: skyblue;">
					history
				</div>
				<div style="margin-left: 2px;">
					<select  name = "history" id="div2" style="width: 150px; display: none;" size="10">
						{% if history %}
 							<option value = "" style="font-size: 20px;">----------</option>
 							{% for h in history %}
  							<option  value = {{ h }} style="font-size: 20px;">{{ h }}</option>
  							{% endfor %}
  							{% else %}
  							<option value = "" style="font-size: 20px;">Please search something</option>
  							{% endif %}
					</select>
				</div>
				
			</div>
			
		</div>
		
		
		<div class="middle" style="margin-top: 20px;">
			<nav class="navbar navbar-light bg-light">
				<center>
					<form class="form-inline">
						<div style=" top: 10px; left: 20px;">
							<div style="display:inline-block; vertical-align:middle;">
								<img src="{% static "img/logo3.png" %}" width="60" height="60">
							</div>
							<!--input删掉了name&value-->
							<div style="display:inline-block;">
								<input class="form-control mr-sm-2" type="search" placeholder="  Ask what you want to know..."
								aria-label="Keyword" list = "searchlist"
								style="margin-left: 10px;  vertical-align:middle;font-size: 20px; height: 50px; width: 400px; border-radius: 25px 0px 0px 25px;" name = 'keyword' value = "" autocomplete="off">
								<datalist id = "searchlist" name="auto-completion">
									{% if completion %}
									{% for c in completion %}
										<option  value = {{ c }}>{{ c }}</option>
										{% endfor %}
								{% endif %}
								</datalist>
								<button class="btn btn-outline-success my-2 my-sm-0" type="submit" 
								        style=" vertical-align:middle;text-shadow: 0 0 2px black; color: aliceblue; font-style: italic; font-size: 20px; height: 50px;
										       width: 120px; border-radius: 0px 25px 25px 0px;border: none; background-color: cornflowerblue;">Search</button>
							</div>
						</div>
						<input class="switch" type="checkbox" name="qa" value=1 checked style="display: none;" checked />
					</form>
				</center>
			 </nav>
		</div>
		
		<div style="margin-top: 20px;width: 100%; height: 40px; text-align: center;margin-left: 0px;background-color: rgba(193, 210, 240, 0.5);">
		<div style="text-align: center; cursor: hand; margin-top: 10px; font-family: STHupo; color: deepskyblue;" onclick="isHidden('div3')">
			<img src="{% static "img/settings.png" %}" style="height: 40px; width: 40px; margin-top: 0px; vertical-align: middle;">
		</div>
	</div>
	
	<div style="display: none;" id="div3">
		<div style="text-align: center; margin-top: 0px; height: 40px; width: 100%; left: 0px;background-color: rgba(193, 210, 240, 0.5);">
			<div class="choice" style="font-size: 30px; color: dodgerblue;font-family: STHupo;">
				<input class="switch" type="checkbox" name="filetype" value="news"/>news
				<input class="switch" type="checkbox" name="filetype" value="txt" />txt
				<input class="switch" type="checkbox" name="filetype" value="doc" />doc
				<input class="switch" type="checkbox" name="filetype" value="pdf" />pdf
				<input class="switch" type="checkbox" name="filetype" value="img" />img
				<input class="switch" type="checkbox" name="filetype" value="mp4" />mp4
				<input class="switch" type="checkbox" name="filetype" value="CN" />CN
				<input class="switch" type="checkbox" name="filetype" value="latest" />latest
			</div>
		</div>
		
		<div style="text-align: center; margin-top: 0px; height: 40px; idth: 100%; left: 0px;background-color: rgba(193, 210, 240, 0.5);">
			<div class="sort-choice" style="font-size: 30px; font-family: STHupo; color:mediumblue">
				<input class="sort-switch" type="checkbox" name="filetype" value="date"/>sort by date
				<input class="sort-switch" type="checkbox" name="filetype" value="score" />sort by score
				
				<select name = "recommend" size: 4 style="width: 100px; height: 30px;">
					<option value = "" style="font-size: 20px;">----------</option>
					<option  value = "stock" style="font-size: 20px;">stock</option>
				    <option  value = "company" style="font-size: 20px;">company</option>
				    <option  value = "product" style="font-size: 20px;">product</option>
				</select>
				sort by category
			</div>
		</div>
	</div>
		
		
	</div>
	
	</form>

{% if no_results != 1 %}
 <div class="txtCentrado margenSup20 grisDC">
 
 
 

<h3>Top results for your question: "{{search_term}}"
, showing top hits accoring to similarity:
</h3>


 
 
 </div>
 <div class="search results">
 
  {% if settings.1 == 1 %}
  <div class="images" id = 'qa_results'>
 {% for mytuple in results.1 %}
 <div>
 {{ mytuple.1 }}
 {{ mytuple.5 }}
 </div>
 {% endfor %}
 </div>
 {% endif %}
 
</div>
<div>
<h3></h3>
</div>
<div>
<h3 style=" margin-top:50px;">Results on other sites:</h3>
</div>
<div>
<a href="https://cn.bing.com/search?q={{search_term}}">"{{ search_term }}" on bing</a>
<a href="https://cn.baidu.com/search?q={{search_term}}">"{{ search_term }}" on baidu</a>
</div>
{%elif suggestion %}
<h3>No results found, do you mean:
{%for suggest in suggestion %}
  <a href="http://127.0.0.1:8000/search/?keyword={{suggest}}&news=1">{{suggest}}</a>
  {% endfor %}?
  </h3>
{%elif not search_term %}
 <h3>Insert your search here.</h3>
{%elif black_word %}
 <h3>Contains forbidden words! No results shown.</h3>
{%elif not results %}
 <p>No results found.</p>
{% endif %}
</html>
